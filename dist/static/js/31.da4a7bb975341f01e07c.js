webpackJsonp([31],{"8oVF":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),r=a("exGp"),o=a.n(r),s={name:"bookmarkList",data:function(){return{tableData:[],dialogVisible:!1,row:{},pagination:{total:0,currentPage:1,pageSize:10,searchData:"",pageSizes:[5,10,15,20]}}},created:function(){this.loadData()},methods:{loadData:function(){var t=this;return o()(i.a.mark(function e(){var a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={currentPage:t.pagination.currentPage,pageSize:t.pagination.pageSize,searchData:t.pagination.searchData},console.log(a,"(postData"),e.prev=2,e.next=5,t.$http.get("bookmark/list",{params:a});case 5:n=e.sent,t.tableData=n.list,t.pagination.total=n.total,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0,"err");case 13:case"end":return e.stop()}},e,t,[[2,10]])}))()},showDialog:function(t){this.dialogVisible=!0,this.row=t},deleteCategory:function(){var t=this;return o()(i.a.mark(function e(){var a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.dialogVisible=!1,e.next=3,t.$http.delete("bookmark/delete/"+t.row.id);case 3:if(200===(a=e.sent).status){for(n=0;n<t.tableData.length;n++)t.tableData[n].id===t.row.id&&t.tableData.splice(n,1);t.$message({type:"success",message:a.msg})}else t.$message({type:"error",message:a.msg});case 5:case"end":return e.stop()}},e,t)}))()},jump:function(t){this.$router.push({name:"editBookmark",query:{id:t.id}})},handleSizeChange:function(t){this.pagination.pageSize=t,this.loadData()},clickPage:function(t){this.pagination.currentPage=t,this.loadData()},searchFn:function(){this.pagination.currentPage=1,this.loadData()}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bookmark-list"},[a("el-table",{attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"书签名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"class_name",label:"类名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"link",label:"链接地址"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{clearable:"",size:"mini",placeholder:"输入关键字搜索"},on:{input:t.searchFn},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchFn.apply(null,arguments)}},model:{value:t.pagination.searchData,callback:function(e){t.$set(t.pagination,"searchData",e)},expression:"pagination.searchData"}})]}},{key:"default",fn:function(e){var n=e.row;return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.jump(n)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.showDialog(n)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"ta-right mt20",attrs:{"current-page":t.pagination.currentPage,"page-sizes":t.pagination.pageSizes,"page-size":t.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.clickPage}}),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("是否删除“ "+t._s(t.row.name)+"” 这个分类?")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteCategory}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var c=a("VU/8")(s,l,!1,function(t){a("QFFn")},"data-v-5a68c120",null);e.default=c.exports},QFFn:function(t,e){}});