webpackJsonp([15],{"9CNC":function(t,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=a("PFla"),i={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"box",attrs:{id:"circular"}})},staticRenderFns:[]};var n=function(t){a("aJwA")},o={components:{myCircular:a("VU/8")(e.a,i,!1,n,"data-v-6f85cc0c",null).exports},data:function(){return{showCircular:!0}},methods:{refreshCircular:function(t){var r=this;this[t]=!1,this.$nextTick(function(){r[t]=!0})}}},s={render:function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("div",[a("div",{staticClass:"cb-content"},[a("i",{staticClass:"my-icon-ai244",on:{click:function(r){return t.refreshCircular("showCircular")}}}),t._v(" "),t.showCircular?a("my-circular",{ref:"circular"}):t._e()],1),t._v(" "),a("p",{staticClass:"mt10"},[t._v("\n\t\t\t在不碰撞的情况下并且不超出“圆”外的随机分布,您可以点击刷新按钮试试哦~\n\t\t")])])},staticRenderFns:[]};var u=a("VU/8")(o,s,!1,function(t){a("Ms79")},"data-v-f9ea3b1e",null);r.default=u.exports},Ms79:function(t,r){},PFla:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__=__webpack_require__("pFYg"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__=__webpack_require__("woOf"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);__webpack_exports__.a={name:"circular",props:{data:{type:Array,default:function(){return[{txt:"天气",value:100},{txt:"游戏",value:50},{txt:"音乐",value:75},{txt:"编程",value:45},{txt:"小说",value:40},{txt:"情商",value:30},{text:"智商",value:70},{txt:"内向",value:65},{txt:"长相",value:75},{txt:"您",value:100}]}}},mounted:function(){this.init()},methods:{init:function init(){var that=this,Circular=function(){this.box=this.$("#circular"),this.width=this.getStyle(this.box,"width"),this.o=this.width/2,this.yCoordinate=[],this.xCoordinate=[],this.coordinate=[],this.circular=40,this.number=10,this.data=that.data,this.maxValue=0,this.init()};Circular.prototype.init=function(){this.data=this.sort({data:this.data,key:"value"}),this.maxValue=this.data[0].value,this.getCoordinate(),this.coordinate=this.disruptedArr({data:this.coordinate}),this.forCreatedEle()},Circular.prototype.forCreatedEle=function(){for(var t=0;t<this.number;t++){var r=this.coordinate[t],a=that.data[t];if(!a)return!1;var e={box:this.box,x:r.x,y:r.y,w:this.circular/this.maxValue*a.value};this.createdElement(e)}},Circular.prototype.getCoordinate=function(){this.yCoordinate=this.randomCoordinate({range:{max:this.width-this.circular/2,min:this.circular/2}}),this.yCoordinate=this.arrExclude({data:this.yCoordinate,difference:this.circular,symbol:">"});for(var t=this.yCoordinate.length,r={o:{x:this.o,y:this.o},r:this.o-this.circular/2},a=0;a<t;a++)for(var e=this.yCoordinate[a],i=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({},r,{y:e}),n=this.getCircularRange(i),o={range:{max:n.range+n.x+this.circular,min:n.x+this.circular/2}},s=this.randomCoordinate(o),u=(s=this.arrExclude({data:s,difference:this.circular,symbol:">"})).length,c=0;c<u-1;c++){var _={x:s[c],y:e,left:n.x};this.coordinate.push(_)}this.number=this.coordinate.length,console.log("最多可插入"+this.coordinate.length+"个圆")},Circular.prototype.createdElement=function(t){var r=document.createElement("div");r.className="circular",r.style.top=t.y+"px",r.style.left=t.x+"px",r.style.width=t.w+"px",r.style.height=t.w+"px",t.box.appendChild(r)},Circular.prototype.getCircularRange=function(t){var r,a=null,e=null;return a=t.y===t.r?t.r:Math.abs(t.r-t.y),e=Math.sqrt(Math.pow(t.r,2)-Math.pow(a,2)),r=t.r-e,{range:e*=2,x:r}},Circular.prototype.$=function(t){return document.querySelector(t)},Circular.prototype.getStyle=function(t,r){if(window.getComputedStyle){var a=window.getComputedStyle(t,null)[r],e=a.indexOf("px");return Number(a.slice(0,e))}return t.currentStyle},Circular.prototype.randomCoordinate=function(t){t.range.min=t.range.min?t.range.min:0;for(var r=Math.ceil(.02*(t.range.max-t.range.min)),a={number:r=r<0?1:r},e=(t=this.paramsInherit({params:t,defaultValue:a})).range.max-t.range.min,i=Math.floor(e/t.number),n=t.range.min,o=[],s=0;s<t.number;s++){var u=n+i,c=this.random({min:n,max:u});o.push(c),n=u}return o},Circular.prototype.paramsInherit=function(t){return function t(r,a){for(var e in a){var i=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(r[e]);"object"===i?t(r[e],a[e]):r[e]||("object"===i?t(r[e],a[e]):r[e]=a[e])}}(t.params,t.defaultValue),t.params},Circular.prototype.random=function(t){var r={params:t,defaultValue:{symbol:{min:"contain",max:"contain"}}},a=(t=this.paramsInherit(r)).symbol,e=Math.random(),i=t.max,n=t.min;if("contain"===a.min&&"contain"===a.max)return Math.floor(e*(i-n+1))+n;if("not"===a.min&&"contain"===a.max)return Math.ceil(e*(i-n)+1)+n-1;if("contain"===a.min&&"not"===a.max)return Math.floor(e*(i-n))+n;if("not"===a.min&&"not"===a.max){var o=Math.floor(e*(i-n)+1)+n;return o>=i?o-1:o}},Circular.prototype.arrExclude=function(params){for(var data=params.data,i=0;i<data.length-1;i++){var previous=data[i],latter=data[i+1],value=Math.round(Math.abs(previous-latter)),str=value+params.symbol+params.difference;eval(str)||(data.splice(i+1,1),--i)}return data},Circular.prototype.disruptedArr=function(t){return t.data.sort(function(){return Math.random()>.5?-1:1})},Circular.prototype.sort=function(params){for(var data=params.data,key=params.key,sort=params.sort?">":"<",i=0,length=data.length;i<length-1;i++)for(var j=0;j<length-i-1;j++){var rule=eval(data[j][key]+sort+data[j+1][key]);if(rule){var temp=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({},data[j]);data[j]=data[j+1],data[j+1]=temp}}return data},new Circular}}}},aJwA:function(t,r){}});