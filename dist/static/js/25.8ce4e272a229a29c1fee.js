webpackJsonp([25],{"3tDN":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Xxa5"),n=a.n(r),s=a("exGp"),o=a.n(s),c={name:"editCategory",data:function(){return{categoryData:[],form:{id:this.$route.params.categoryId,classname:"",pid:"",layername:""}}},created:function(){this.getCategoryData(),this.getEditCategoryData()},methods:{getCategoryData:function(){var e=this;return o()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("category");case 2:a=t.sent,e.categoryData=[].concat({id:0,pid:0,classname:"第一层级"},a.list);case 4:case"end":return t.stop()}},t,e)}))()},getEditCategoryData:function(){var e=this;return o()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("editCategory/"+e.form.id);case 2:a=t.sent,e.form.classname=a[0].classname,e.form.pid=a[0].pid,e.form.layername=a[0].pid;case 6:case"end":return t.stop()}},t,e)}))()},editCategory:function(){var e=this;return o()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.put("updateCategory",e.form);case 2:200===(a=t.sent).status?(e.$message({message:a.msg,type:"success"}),e.$router.push({name:"categoryList"})):e.$message({message:a.msg,type:"error"});case 4:case"end":return t.stop()}},t,e)}))()},changeSelectValue:function(e){this.form.pid=e;for(var t=this.categoryData,a=0;a<t.length;a++)if(t[a].id===e){this.form.pid_classname=t[a].classname;break}}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"分类名称"}},[a("el-input",{model:{value:e.form.classname,callback:function(t){e.$set(e.form,"classname",t)},expression:"form.classname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"层级"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeSelectValue},model:{value:e.form.layername,callback:function(t){e.$set(e.form,"layername",t)},expression:"form.layername"}},e._l(e.categoryData,function(e){return a("el-option",{key:e.id,attrs:{label:e.classname,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"22px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.editCategory}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.$router.push({name:"categoryList",query:{type:e.form.type[0]}})}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(c,i,!1,function(e){a("743v")},"data-v-9faa6e76",null);t.default=l.exports},"743v":function(e,t){}});