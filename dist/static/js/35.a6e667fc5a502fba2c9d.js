webpackJsonp([35],{"+Jfh":function(t,e){},b4DF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),r=a.n(n),i=a("exGp"),s=a.n(i),o={name:"jurisdictionList",data:function(){return{routingInformation:{name1:"首页",name2:"接口权限列表",router:"/"},tableData:[]}},created:function(){this.getTableData()},methods:{getTableData:function(){var t=this;return s()(r.a.mark(function e(){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$route.query.distribution||"",e.prev=1,e.next=4,t.$http.get("jurisdiction/list/"+a);case 4:n=e.sent,t.tableData=n,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[1,8]])}))()},statusChange:function(t){var e=this;return s()(r.a.mark(function a(){var n,i,s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n={name:t.j_name,identification:t.identification,distribution:t.distribution,pid:t.j_pid,isOpen:t.is_open},a.prev=1,a.next=4,e.$http.put("jurisdiction/edit/"+t.id,n);case 4:i=a.sent,200===(s=i.data).status?(e.$message.success("操作成功"),e.Global.getNotJurisdiction(e)):(e.getTableData(),e.$message.error(s.msg)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.log(a.t0),e.getTableData();case 13:case"end":return a.stop()}},a,e,[[1,9]])}))()},deleteJurisdiction:function(t){var e,a=this;this.$alert("您是否确定删除此权限？","删除权限",{confirmButtonText:"确定",callback:(e=s()(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{a.$http.delete("jurisdiction/delete/"+t),a.$message.success("删除成功~"),a.getTableData()}catch(t){console.log(t)}case 1:case"end":return e.stop()}},e,a)})),function(t){return e.apply(this,arguments)})})}},watch:{$route:function(t,e){this.getTableData()}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content_right"},[a("el-table",{staticClass:"dataTable",attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"j_name",label:"权限名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"identification",label:"权限标识"}}),t._v(" "),a("el-table-column",{attrs:{prop:"is_open",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(e){return t.statusChange(n)}},model:{value:n.is_open,callback:function(e){t.$set(n,"is_open",e)},expression:"row.is_open"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"distribution",label:"模块"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(0===n.distribution?"api":"view"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("router-link",{attrs:{to:{name:"editJurisdiction",params:{id:n.id}}}},[t._v("修改")]),t._v(" "),a("a",{attrs:{href:"javascipt:;"},on:{click:function(e){return t.deleteJurisdiction(n.id)}}},[t._v("删除")])]}}])})],1)],1)},staticRenderFns:[]};var u=a("VU/8")(o,c,!1,function(t){a("+Jfh")},null,null);e.default=u.exports}});