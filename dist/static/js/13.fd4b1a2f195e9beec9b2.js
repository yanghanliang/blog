webpackJsonp([13],{"/smp":function(t,e,i){"use strict";var s={props:{showPercentage:{type:Boolean,default:!0},showSlider:{type:Boolean,default:!0},progressValue:{type:Number,default:0},direction:{type:Boolean,default:!0},width:{type:[Number,String],default:205},color:{type:Array,default:function(){return[{value:0,color:"#096"},{value:.5,color:"#43ffe1"},{value:.8,color:"#7F86E4"},{value:1,color:"#ff4343"}]}}},computed:{style:function(){return"width: "+this.width+"px; height:"+this.width+"px;"}},mounted:function(){this.init()},data:function(){return{progress:null}},methods:{init:function(){var t=this,e=function(e){this.canvas=t.$refs.slider,this.box=this.canvas.parentElement,this.slider=this.box.querySelector(".slider"),this.sliderInfo=this.slider.getBoundingClientRect(),this.boxInfo=this.box.getBoundingClientRect(),this.ctx=this.canvas.getContext("2d"),this.time=10,this.value=e.value?e.value:0,this.startAngle=-90,this.endAngle=0,this.circularX=this.boxInfo.width/2,this.circularY=this.boxInfo.height/2,this.radius=100,this.isPressDow=!1,this.percentage=0,this.textTop=40,this.textSize=20,this.direction=t.direction,this.lineWidth=6,this.init()};e.prototype.init=function(){this.endAngle=this.valueTangle({value:this.value}),this.setBoxSize(),this.pressDown(),this.mousemove(),this.mouseup(),this.arcDrawing({startAngle:this.startAngle,endAngle:this.endAngle})},e.prototype.setBoxSize=function(){this.canvas.width=this.boxInfo.width,this.canvas.height=this.boxInfo.height;var t=this.box.querySelector(".content");t.style.width=this.canvas.width+"px",t.style.height=this.canvas.width+"px"},e.prototype.arcDrawing=function(e){var i=this,s=this.ctx.createLinearGradient(0,0,this.circularX,this.circularY);t.color.forEach(function(t){s.addColorStop(t.value,t.color)}),this.ctx.strokeStyle=s,this.ctx.lineWidth=this.lineWidth;var r=this.getArcValue(e.startAngle),n=e.startAngle,a=setInterval(function(){var s=i.getArcValue(n);if(i.ctx.clearRect(0,0,i.boxInfo.width,i.boxInfo.height),i.ctx.beginPath(),i.ctx.arc(i.circularX,i.circularY,i.radius,r,s,i.direction),i.ctx.stroke(),t.showPercentage&&(i.ctx.fillStyle="#1d89d5",i.ctx.font=i.textSize+"px Microsoft Yahei",i.ctx.textAlign="center",i.ctx.fillText(i.number(n),i.circularX,i.circularY+i.textTop)),i.direction){if(n<=i.endAngle)return clearInterval(a),i.setSpotCoordinate({angle:360+i.endAngle}),!1;n--}else{if(n>=e.endAngle)return clearInterval(a),i.setSpotCoordinate({angle:i.endAngle}),!1;n++}},this.time);this.endAngle=e.endAngle},e.prototype.ad=function(e){this.ctx.clearRect(0,0,this.boxInfo.width,this.boxInfo.height);var i=this.getArcValue(e.startAngle),s=this.getArcValue(e.endAngle);this.ctx.beginPath(),this.ctx.arc(this.circularX,this.circularY,this.radius,i,s,this.direction),this.ctx.stroke(),t.showPercentage&&this.ctx.fillText(this.number(e.endAngle),this.circularX,this.circularY+40)},e.prototype.number=function(t){var e=0;if(this.direction){var i=360+this.startAngle;if(t>0)e=i>t?i-t:i+360-t;else e=i-(360+t)}else e=t>this.startAngle?t-this.startAngle:360-this.startAngle+t;var s=Math.round(e/360*100);return this.percentage=s,s+"%"},e.prototype.getArcValue=function(t){var e=Math.abs(t)*Math.PI/180;return t>0?e:-e},e.prototype.getCoordinate=function(t){var e=0,i=this.radius/Math.sin(2*Math.PI/360*90);return t<=90?(e=90-t,{x:this.circularX+Math.sin(2*Math.PI/360*e)*i-this.sliderInfo.width/2,y:this.circularY+Math.sin(2*Math.PI/360*t)*i-this.sliderInfo.height/2}):t<=180?(e=90-(180-t),{x:this.circularX-Math.sin(2*Math.PI/360*e)*i-this.sliderInfo.width/2,y:this.circularY+Math.sin(2*Math.PI/360*(180-t))*i-this.sliderInfo.height/2}):t<=270?(e=270-t,{x:this.circularX-Math.sin(2*Math.PI/360*e)*i-this.sliderInfo.width/2,y:this.circularY-Math.sin(2*Math.PI/360*(180-e-90))*i-this.sliderInfo.height/2}):t<=360?(e=90-(360-t),{x:this.circularX+Math.sin(2*Math.PI/360*e)*i-this.sliderInfo.width/2,y:this.circularY-Math.sin(2*Math.PI/360*(360-t))*i-this.sliderInfo.height/2}):void 0},e.prototype.setSpotCoordinate=function(e){var i=this.getCoordinate(e.angle);this.slider.style.left=i.x+"px",this.slider.style.top=i.y+"px",t.showSlider?this.slider.style.opacity=1:this.slider.style.display="none"},e.prototype.getAngle=function(t){var e=Math.sin(2*Math.PI/360*90),i=t.y-this.circularY,s=t.x-this.circularX,r=e*i/Math.sqrt(Math.pow(s,2)+Math.pow(i,2));return t.sin=r,this.getSinAngle(t)},e.prototype.getSinAngle=function(t){return t.x>=this.circularX&&t.y>=this.circularY?Math.asin(t.sin)/(Math.PI/180):t.x>=this.circularX&&t.y<=this.circularY?this.direction?360+Math.asin(t.sin)/(Math.PI/180):Math.asin(t.sin)/(Math.PI/180):t.x<=this.circularX&&t.y<=this.circularY?180-Math.asin(t.sin)/(Math.PI/180):t.x<=this.circularX&&t.y>=this.circularY?180-Math.asin(t.sin)/(Math.PI/180):void 0},e.prototype.pressDown=function(){var t=this;t.slider.addEventListener("mousedown",function(e){var i=window.event||e;(i.target?i.target:i.srcElement).className.includes("slider")&&(t.isPressDown=!0,document.documentElement.style.cursor="pointer")})},e.prototype.mousemove=function(){var t=this;document.addEventListener("mousemove",function(e){var i=window.event||e,s=document.documentElement.scrollLeft||document.body.scrollLeft,r=document.documentElement.scrollTop||document.body.scrollTop,n=i.clientX+s-t.boxInfo.x,a=i.clientY+r-t.boxInfo.y;if(t.isPressDown){var o=t.getAngle({x:n,y:a}),l=t.getCoordinate(o);t.slider.style.left=l.x+"px",t.slider.style.top=l.y+"px",t.ad({startAngle:t.startAngle,endAngle:o})}})},e.prototype.mouseup=function(){var t=this;window.onmouseup=function(e){t.isPressDown=!1,document.documentElement.style.cursor="auto"}},e.prototype.valueTangle=function(t){var e=3.6*t.value;return this.direction?e<=270?-(360-Math.abs(270-e)):-(e+90):e-90},t.progress=new e({value:t.progressValue})}},watch:{progressValue:function(t){var e=this.progress.valueTangle({value:t});this.progress.ad({startAngle:-90,endAngle:e})}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box",style:t.style},[i("div",{staticClass:"min-box slider"}),t._v(" "),i("canvas",{ref:"slider",attrs:{id:"canvas"}}),t._v(" "),i("div",{staticClass:"content"},[t._t("content",function(){return[t._m(0)]})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("aaa")]),this._v(" "),e("li",[this._v("bbb")])])}]};var n=i("VU/8")(s,r,!1,function(t){i("amQ7")},null,null);e.a=n.exports},Tj94:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("mvHQ"),r=i.n(s),n=i("Ux4A"),a={components:{myProgress:i("/smp").a,codeBlock:n.a},data:function(){return{tableData:[{params:"showPercentage",explain:"是否显示百分比",type:"boolean",option:"true/false",default:"true"},{params:"showSlider",explain:"是否显示可拖拽按钮",type:"boolean",option:"true/false",default:"true"},{params:"progressValue",explain:"百分比",type:"number",option:"0-100",default:"0"},{params:"direction",explain:"方向:true逆时针转动，false顺时针转动",type:"boolean",option:"true/false",default:"true"},{params:"width",explain:"组件宽高",type:"number/string",option:"-",default:"205"},{params:"color",explain:"颜色",type:"array",option:"-",default:r()([{value:0,color:"#096"},{value:.5,color:"#43ffe1"},{value:.8,color:"#7F86E4"},{value:1,color:"#ff4343"}])}]}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("my-progress",{staticClass:"progress",attrs:{progressValue:50}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("文字描述")])]),t._v(" "),i("code-block",{attrs:{name:"progress"}}),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[i("el-table-column",{attrs:{prop:"params",label:"参数"}}),t._v(" "),i("el-table-column",{attrs:{prop:"explain",label:"说明"}}),t._v(" "),i("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),i("el-table-column",{attrs:{prop:"option",label:"可选值"}}),t._v(" "),i("el-table-column",{attrs:{prop:"default",label:"默认值"}})],1)],1)},staticRenderFns:[]};var l=i("VU/8")(a,o,!1,function(t){i("p7h4")},"data-v-e3805358",null);e.default=l.exports},amQ7:function(t,e){},p7h4:function(t,e){}});